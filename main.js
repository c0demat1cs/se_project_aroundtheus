!function(){"use strict";class e{constructor(e,t,n){let{name:s,link:i}=e;this._name=s,this._link=i,this._cardSelector=t,this._handleImageClick=n}_getElement(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getElement(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl.textContent=this._name,this._setEventListeners(),this._cardElement}_handleLikeIcon=()=>{this._likeButton.classList.toggle("card__like-button_active")};_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeIcon()})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCard()})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}_handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}}class t{constructor(e,t){this._formElement=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._inputElements=this._formElement.querySelectorAll(this._inputSelector),this._submitButton=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(){return Array.from(this._inputElements).some((e=>!e.validity.valid))}_disableButton(){this._submitButton&&(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0)}_enableButton(){this._submitButton&&(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_setEventListeners(){this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._inputElements.forEach((e=>{this._checkInputValidity(e)})),this._toggleButtonState()}disableSubmitButton(){this._disableButton()}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class n{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._handleKeyDown=this._handleKeyDown.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleKeyDown)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleKeyDown)}_handleKeyDown(e){"Escape"===e.key&&this.close()}setEventListeners(){const e=this._popupElement.querySelector(".modal__close");e&&e.addEventListener("click",(()=>this.close())),this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("modal_opened")&&this.close()}))}}var s=class extends n{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputFields=this._popupForm.querySelectorAll(".modal__input"),this._formSubmitHandler=this._formSubmitHandler.bind(this)}_getInputValues(){const e={};return this._inputFields.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",this._formSubmitHandler)}_formSubmitHandler(e){e.preventDefault(),this._handleFormSubmit(this._getInputValues())}close(){this._popupForm.reset(),super.close()}};const i={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},o=(document.querySelector(".cards__list"),document.querySelector("#profile-edit-modal"),document.querySelector("#add-card-modal"),document.querySelector(".modal__image"),document.querySelector(".modal__popup-caption"),document.querySelector("#profile-add-button")),r=document.querySelector("#profile-edit-button"),l=(document.querySelector("#card-title-input"),document.querySelector("#card-link-input"),document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector("#profile-title-input")),a=document.querySelector("#profile-description-input"),c=(document.forms["profile-form"],document.forms["card-form"],new t(i,document.querySelector("#profile-form")));c.enableValidation();const u=new t(i,document.querySelector("#add-card-form"));u.enableValidation();const d=new s("#add-card-modal",(e=>{var t,n;t=e.title,n=e.link,function(e){const t=E(e);h.addItem(t)}({name:t,link:n}),u.disableSubmitButton(),d.close()}));d.setEventListeners();const m=new s("#profile-edit-modal",(e=>{const t=e.title,n=e.description;p.setUserInfo(t,n),c.disableSubmitButton(),m.close()}));m.setEventListeners();const _=new class extends n{constructor(e){super({popupSelector:e}),this._popupCaption=this._popupElement.querySelector(".modal__popup-caption"),this._imageElement=this._popupElement.querySelector(".modal__image")}open(e){let{link:t,name:n}=e;this._popupCaption.textContent=n,this._imageElement.src=t,this._imageElement.alt=`Image of ${n}`,super.open()}}("#image-modal");_.setEventListeners();const p=new class{constructor(e,t){this._profileTitleElement=document.querySelector(e),this._profileDescriptionElement=document.querySelector(t)}getUserInfo(){return{title:this._profileTitleElement.textContent,description:this._profileDescriptionElement.textContent}}setUserInfo(e,t){this._profileTitleElement.textContent=e,this._profileDescriptionElement.textContent=t}}(".profile__title",".profile__description"),h=new class{constructor(e,t){let{items:n,renderer:s}=e;this._items=n,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{const t=this._renderer(e);this.addItem(t)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg "}],renderer:E},"#cards__list");function E(t){return new e(t,"#card-template",f).getView()}function f(e){let{name:t,link:n}=e;_.open({link:n,name:t})}h.renderItems(),r.addEventListener("click",(()=>{const e=p.getUserInfo();l.value=e.title,a.value=e.description,c.resetValidation(),m.open()})),o.addEventListener("click",(()=>{d.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQWUsTUFBTUEsRUFDbkJDLFdBQUFBLENBQVdDLEVBQWlCQyxFQUFjQyxHQUFrQixJQUFoRCxLQUFFQyxFQUFJLEtBQUVDLEdBQU1KLEVBQ3hCSyxLQUFLQyxNQUFRSCxFQUNiRSxLQUFLRSxNQUFRSCxFQUNiQyxLQUFLRyxjQUFnQlAsRUFDckJJLEtBQUtJLGtCQUFvQlAsQ0FDM0IsQ0FJQVEsV0FBQUEsR0FDRSxPQUFPQyxTQUNKQyxjQUFjUCxLQUFLRyxlQUNuQkssUUFBUUQsY0FBYyxTQUN0QkUsV0FBVSxFQUNmLENBR0FDLE9BQUFBLEdBY0UsT0FiQVYsS0FBS1csYUFBZVgsS0FBS0ssY0FDekJMLEtBQUtZLFlBQWNaLEtBQUtXLGFBQWFKLGNBQWMsc0JBQ25EUCxLQUFLYSxjQUFnQmIsS0FBS1csYUFBYUosY0FDckMsd0JBRUZQLEtBQUtjLGFBQWVkLEtBQUtXLGFBQWFKLGNBQWMsZ0JBQ3BEUCxLQUFLZSxhQUFlZixLQUFLVyxhQUFhSixjQUFjLGdCQUNwRFAsS0FBS2MsYUFBYUUsSUFBTWhCLEtBQUtFLE1BQzdCRixLQUFLYyxhQUFhRyxJQUFNakIsS0FBS0MsTUFDN0JELEtBQUtlLGFBQWFHLFlBQWNsQixLQUFLQyxNQUVyQ0QsS0FBS21CLHFCQUVFbkIsS0FBS1csWUFDZCxDQUVBUyxnQkFBa0JBLEtBQ2hCcEIsS0FBS1ksWUFBWVMsVUFBVUMsT0FBTywyQkFBMkIsRUFLL0RILGtCQUFBQSxHQUNFbkIsS0FBS1ksWUFBWVcsaUJBQWlCLFNBQVMsS0FDekN2QixLQUFLb0IsaUJBQWlCLElBR3hCcEIsS0FBS2EsY0FBY1UsaUJBQWlCLFNBQVMsS0FDM0N2QixLQUFLd0IsbUJBQW1CLElBSTFCeEIsS0FBS2MsYUFBYVMsaUJBQWlCLFNBQVMsS0FDMUN2QixLQUFLSSxrQkFBa0IsQ0FBRU4sS0FBTUUsS0FBS0MsTUFBT0YsS0FBTUMsS0FBS0UsT0FBUSxHQUVsRSxDQUlBc0IsaUJBQUFBLEdBQ0V4QixLQUFLVyxhQUFhYyxTQUNsQnpCLEtBQUtXLGFBQWUsSUFDdEIsRUM3RGEsTUFBTWUsRUFDbkJoQyxXQUFBQSxDQUFZaUMsRUFBVUMsR0FDcEI1QixLQUFLNkIsYUFBZUQsRUFDcEI1QixLQUFLOEIsZUFBaUJILEVBQVNJLGNBQy9CL0IsS0FBS2dDLHNCQUF3QkwsRUFBU00scUJBQ3RDakMsS0FBS2tDLHFCQUF1QlAsRUFBU1Esb0JBQ3JDbkMsS0FBS29DLGlCQUFtQlQsRUFBU1UsZ0JBQ2pDckMsS0FBS3NDLFlBQWNYLEVBQVNZLFdBRzVCdkMsS0FBS3dDLGVBQWlCeEMsS0FBSzZCLGFBQWFZLGlCQUN0Q3pDLEtBQUs4QixnQkFFUDlCLEtBQUswQyxjQUFnQjFDLEtBQUs2QixhQUFhdEIsY0FDckNQLEtBQUtnQyxzQkFFVCxDQUVBVyxlQUFBQSxDQUFnQkMsR0FDZCxNQUFNQyxFQUFzQjdDLEtBQUs2QixhQUFhdEIsY0FDM0MsSUFBR3FDLEVBQWFFLFlBRW5CRCxFQUFvQjNCLFlBQWMwQixFQUFhRyxrQkFDL0NGLEVBQW9CeEIsVUFBVTJCLElBQUloRCxLQUFLc0MsWUFDekMsQ0FFQVcsZUFBQUEsQ0FBZ0JMLEdBQ2QsTUFBTUMsRUFBc0I3QyxLQUFLNkIsYUFBYXRCLGNBQzNDLElBQUdxQyxFQUFhRSxZQUVuQkYsRUFBYXZCLFVBQVVJLE9BQU96QixLQUFLb0Msa0JBQ25DUyxFQUFvQjNCLFlBQWMsR0FDbEMyQixFQUFvQnhCLFVBQVVJLE9BQU96QixLQUFLc0MsWUFDNUMsQ0FFQVksbUJBQUFBLENBQW9CTixHQUNsQixJQUFLQSxFQUFhTyxTQUFTQyxNQUN6QixPQUFPcEQsS0FBSzJDLGdCQUFnQkMsR0FFOUI1QyxLQUFLaUQsZ0JBQWdCTCxFQUN2QixDQUVBUyxnQkFBQUEsR0FDRSxPQUFPQyxNQUFNQyxLQUFLdkQsS0FBS3dDLGdCQUFnQmdCLE1BQ3BDWixJQUFrQkEsRUFBYU8sU0FBU0MsT0FFN0MsQ0FFQUssY0FBQUEsR0FDTXpELEtBQUswQyxnQkFDUDFDLEtBQUswQyxjQUFjckIsVUFBVTJCLElBQUloRCxLQUFLa0Msc0JBQ3RDbEMsS0FBSzBDLGNBQWNnQixVQUFXLEVBRWxDLENBRUFDLGFBQUFBLEdBQ00zRCxLQUFLMEMsZ0JBQ1AxQyxLQUFLMEMsY0FBY3JCLFVBQVVJLE9BQU96QixLQUFLa0Msc0JBQ3pDbEMsS0FBSzBDLGNBQWNnQixVQUFXLEVBRWxDLENBRUFFLGtCQUFBQSxHQUNNNUQsS0FBS3FELG1CQUNQckQsS0FBS3lELGlCQUVMekQsS0FBSzJELGVBRVQsQ0FFQXhDLGtCQUFBQSxHQUNFbkIsS0FBS3dDLGVBQWVxQixTQUFTakIsSUFDM0JBLEVBQWFyQixpQkFBaUIsU0FBUyxLQUNyQ3ZCLEtBQUtrRCxvQkFBb0JOLEdBQ3pCNUMsS0FBSzRELG9CQUFvQixHQUN6QixHQUVOLENBRUFFLGVBQUFBLEdBQ0U5RCxLQUFLd0MsZUFBZXFCLFNBQVNqQixJQUMzQjVDLEtBQUtrRCxvQkFBb0JOLEVBQWEsSUFFeEM1QyxLQUFLNEQsb0JBQ1AsQ0FFQUcsbUJBQUFBLEdBQ0UvRCxLQUFLeUQsZ0JBQ1AsQ0FFQU8sZ0JBQUFBLEdBQ0VoRSxLQUFLNkIsYUFBYU4saUJBQWlCLFVBQVcwQyxJQUM1Q0EsRUFBSUMsZ0JBQWdCLElBRXRCbEUsS0FBS21CLG9CQUNQLEVDL0ZhLE1BQU1nRCxFQUNuQnpFLFdBQUFBLENBQVdDLEdBQW9CLElBQW5CLGNBQUV5RSxHQUFlekUsRUFDM0JLLEtBQUtxRSxjQUFnQi9ELFNBQVNDLGNBQWM2RCxHQUM1Q3BFLEtBQUtzRSxlQUFpQnRFLEtBQUtzRSxlQUFlQyxLQUFLdkUsS0FDakQsQ0FHQXdFLElBQUFBLEdBQ0V4RSxLQUFLcUUsY0FBY2hELFVBQVUyQixJQUFJLGdCQUNqQzFDLFNBQVNpQixpQkFBaUIsVUFBV3ZCLEtBQUtzRSxlQUM1QyxDQUdBRyxLQUFBQSxHQUNFekUsS0FBS3FFLGNBQWNoRCxVQUFVSSxPQUFPLGdCQUNwQ25CLFNBQVNvRSxvQkFBb0IsVUFBVzFFLEtBQUtzRSxlQUMvQyxDQUdBQSxjQUFBQSxDQUFlTCxHQUNHLFdBQVpBLEVBQUlVLEtBQ04zRSxLQUFLeUUsT0FFVCxDQUdBRyxpQkFBQUEsR0FDRSxNQUFNQyxFQUFjN0UsS0FBS3FFLGNBQWM5RCxjQUFjLGlCQUNqRHNFLEdBQ0ZBLEVBQVl0RCxpQkFBaUIsU0FBUyxJQUFNdkIsS0FBS3lFLFVBRW5EekUsS0FBS3FFLGNBQWM5QyxpQkFBaUIsYUFBYzBDLElBQzVDQSxFQUFJYSxPQUFPekQsVUFBVTBELFNBQVMsaUJBQ2hDL0UsS0FBS3lFLE9BQ1AsR0FFSixFQ01GLE1BdENBLGNBQTRCTixFQUMxQnpFLFdBQUFBLENBQVkwRSxFQUFlWSxHQUN6QkMsTUFBTSxDQUFFYixrQkFDUnBFLEtBQUtrRixXQUFhbEYsS0FBS3FFLGNBQWM5RCxjQUFjLGdCQUNuRFAsS0FBS21GLGtCQUFvQkgsRUFDekJoRixLQUFLb0YsYUFBZXBGLEtBQUtrRixXQUFXekMsaUJBQWlCLGlCQUNyRHpDLEtBQUtxRixtQkFBcUJyRixLQUFLcUYsbUJBQW1CZCxLQUFLdkUsS0FDekQsQ0FHQXNGLGVBQUFBLEdBQ0UsTUFBTUMsRUFBYyxDQUFDLEVBSXJCLE9BSEF2RixLQUFLb0YsYUFBYXZCLFNBQVMyQixJQUN6QkQsRUFBWUMsRUFBTTFGLE1BQVEwRixFQUFNQyxLQUFLLElBRWhDRixDQUNULENBR0FYLGlCQUFBQSxHQUNFSyxNQUFNTCxvQkFFTjVFLEtBQUtrRixXQUFXM0QsaUJBQWlCLFNBQVV2QixLQUFLcUYsbUJBQ2xELENBR0FBLGtCQUFBQSxDQUFtQnBCLEdBQ2pCQSxFQUFJQyxpQkFDSmxFLEtBQUttRixrQkFBa0JuRixLQUFLc0Ysa0JBQzlCLENBR0FiLEtBQUFBLEdBQ0V6RSxLQUFLa0YsV0FBV1EsUUFDaEJULE1BQU1SLE9BQ1IsR0N2Q0ssTUEyQk05QyxFQUFXLENBQ3RCZ0UsYUFBYyxlQUNkNUQsY0FBZSxnQkFDZkUscUJBQXNCLGlCQUN0QkUsb0JBQXFCLHlCQUNyQkUsZ0JBQWlCLDBCQUNqQkUsV0FBWSx3QkFXRHFELEdBUGF0RixTQUFTQyxjQUFjLGdCQUNqQkQsU0FBU0MsY0FBYyx1QkFDM0JELFNBQVNDLGNBQWMsbUJBQ3pCRCxTQUFTQyxjQUFjLGlCQUNyQkQsU0FBU0MsY0FBYyx5QkFHbkJELFNBQVNDLGNBQWMsd0JBQzFDc0YsRUFBb0J2RixTQUFTQyxjQUFjLHdCQVMzQ3VGLEdBTmlCeEYsU0FBU0MsY0FBYyxxQkFDeEJELFNBQVNDLGNBQWMsb0JBQ3hCRCxTQUFTQyxjQUFjLG1CQUNqQkQsU0FBU0MsY0FDekMseUJBRStCRCxTQUFTQyxjQUFjLHlCQUMzQ3dGLEVBQTBCekYsU0FBU0MsY0FDOUMsOEJDekJJeUYsR0QyQnFCMUYsU0FBUzJGLE1BQU0sZ0JBQ2xCM0YsU0FBUzJGLE1BQU0sYUM1QmIsSUFBSXZFLEVBQzVCQyxFQUNBckIsU0FBU0MsY0FBYyxtQkFFekJ5RixFQUFrQmhDLG1CQUdsQixNQUFNa0MsRUFBb0IsSUFBSXhFLEVBQzVCQyxFQUNBckIsU0FBU0MsY0FBYyxtQkFFekIyRixFQUFrQmxDLG1CQUdsQixNQUFNbUMsRUFBZSxJQUFJQyxFQUFjLG1CQUFvQkMsSUFnRTNELElBQTZCdkcsRUFBTUMsRUFBTkQsRUEvRGR1RyxFQUFTQyxNQStEV3ZHLEVBOURwQnNHLEVBQVN0RyxLQTRDeEIsU0FBb0J3RyxHQUNsQixNQUFNQyxFQUFXQyxFQUFXRixHQUM1QkcsRUFBUUMsUUFBUUgsRUFDbEIsQ0FnQkVJLENBQVcsQ0FBRTlHLE9BQU1DLFNBQ25CbUcsRUFBa0JuQyxzQkFDbEJvQyxFQUFhMUIsT0FoRWtCLElBRWpDMEIsRUFBYXZCLG9CQUdiLE1BQU1pQyxFQUFtQixJQUFJVCxFQUMzQix1QkFDQ0MsSUFDQyxNQUFNQyxFQUFRRCxFQUFTQyxNQUNqQlEsRUFBY1QsRUFBU1MsWUFDN0JDLEVBQVNDLFlBQVlWLEVBQU9RLEdBK0M5QmQsRUFBa0JqQyxzQkFDbEI4QyxFQUFpQnBDLE9BL0NrQixJQUdyQ29DLEVBQWlCakMsb0JBR2pCLE1BQU1xQyxFQUFpQixJQy9EdkIsY0FBNkI5QyxFQUMzQnpFLFdBQUFBLENBQVkwRSxHQUNWYSxNQUFNLENBQUViLGtCQUVScEUsS0FBS2tILGNBQWdCbEgsS0FBS3FFLGNBQWM5RCxjQUN0Qyx5QkFFRlAsS0FBS21ILGNBQWdCbkgsS0FBS3FFLGNBQWM5RCxjQUFjLGdCQUN4RCxDQUVBaUUsSUFBQUEsQ0FBSTdFLEdBQWlCLElBQWhCLEtBQUVJLEVBQUksS0FBRUQsR0FBTUgsRUFDakJLLEtBQUtrSCxjQUFjaEcsWUFBY3BCLEVBQ2pDRSxLQUFLbUgsY0FBY25HLElBQU1qQixFQUN6QkMsS0FBS21ILGNBQWNsRyxJQUFPLFlBQVduQixJQUVyQ21GLE1BQU1ULE1BQ1IsR0QrQ3dDLGdCQUMxQ3lDLEVBQWVyQyxvQkFHZixNQUFNbUMsRUFBVyxJRXJFVixNQUVMckgsV0FBQUEsQ0FBWTBILEVBQXNCQyxHQUVoQ3JILEtBQUtzSCxxQkFBdUJoSCxTQUFTQyxjQUFjNkcsR0FDbkRwSCxLQUFLdUgsMkJBQTZCakgsU0FBU0MsY0FDekM4RyxFQUVKLENBRUFHLFdBQUFBLEdBRUUsTUFBTyxDQUNMbEIsTUFBT3RHLEtBQUtzSCxxQkFBcUJwRyxZQUNqQzRGLFlBQWE5RyxLQUFLdUgsMkJBQTJCckcsWUFFakQsQ0FHQThGLFdBQUFBLENBQVlWLEVBQU9RLEdBQ2pCOUcsS0FBS3NILHFCQUFxQnBHLFlBQWNvRixFQUN4Q3RHLEtBQUt1SCwyQkFBMkJyRyxZQUFjNEYsQ0FFaEQsR0Y4QzRCLGtCQUFtQix5QkFHM0NKLEVBQVUsSUd4RUQsTUFDYmhILFdBQUFBLENBQVdDLEVBQXNCOEgsR0FBbUIsSUFBeEMsTUFBRUMsRUFBSyxTQUFFQyxHQUFVaEksRUFDN0JLLEtBQUs0SCxPQUFTRixFQUNkMUgsS0FBSzZILFVBQVlGLEVBQ2pCM0gsS0FBSzhILFdBQWF4SCxTQUFTQyxjQUFja0gsRUFDM0MsQ0FFQU0sV0FBQUEsR0FDRS9ILEtBQUs0SCxPQUFPL0QsU0FBU21FLElBQ25CLE1BQU1DLEVBQVVqSSxLQUFLNkgsVUFBVUcsR0FDL0JoSSxLQUFLMkcsUUFBUXNCLEVBQVEsR0FFekIsQ0FFQXRCLE9BQUFBLENBQVFzQixHQUNOakksS0FBSzhILFdBQVdJLFFBQVFELEVBQzFCLEdIeURBLENBQ0VQLE1EMUV3QixDQUMxQixDQUNFNUgsS0FBTSxrQkFDTkMsS0FBTSxzR0FFUixDQUNFRCxLQUFNLGNBQ05DLEtBQU0seUdBRVIsQ0FDRUQsS0FBTSxpQkFDTkMsS0FBTSw0R0FFUixDQUNFRCxLQUFNLFVBQ05DLEtBQU0scUdBRVIsQ0FDRUQsS0FBTSx3QkFDTkMsS0FBTSxxR0FFUixDQUNFRCxLQUFNLGlCQUNOQyxLQUFNLG9HQ29ETjRILFNBQVVsQixHQUVaLGdCQVFGLFNBQVNBLEVBQVdGLEdBRWxCLE9BRGEsSUFBSTlHLEVBQUs4RyxFQUFVLGlCQUFrQjFHLEdBQ3RDYSxTQUNkLENBU0EsU0FBU2IsRUFBZ0JGLEdBQWlCLElBQWhCLEtBQUVHLEVBQUksS0FBRUMsR0FBTUosRUFDdENzSCxFQUFlekMsS0FBSyxDQUFFekUsT0FBTUQsUUFDOUIsQ0FuQkE0RyxFQUFRcUIsY0FxQ1JsQyxFQUFrQnRFLGlCQUFpQixTQUFTLEtBQzFDLE1BQU00RyxFQUFXcEIsRUFBU1MsY0FDMUIxQixFQUFrQkwsTUFBUTBDLEVBQVM3QixNQUNuQ1AsRUFBd0JOLE1BQVEwQyxFQUFTckIsWUFDekNkLEVBQWtCbEMsa0JBQ2xCK0MsRUFBaUJyQyxNQUFNLElBSXpCb0IsRUFBaUJyRSxpQkFBaUIsU0FBUyxLQUN6QzRFLEVBQWEzQixNQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGxpbmsgfSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVJbWFnZUNsaWNrKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICB9XG5cbiAgLy8gIE1FVEhPRFNcbiAgLy9hYnN0cmFjdGlvbiB0byBnZXQgdGhlIGNhcmQgZWxlbWVudFxuICBfZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIC8vIGdldFZpZXcgZGVmaW5lcyB0aGUgY2FyZCBlbGVtZW50XG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRFbGVtZW50KCk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgICk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAvLyByZXR1cm4gdGhlIGNhcmRcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfaGFuZGxlTGlrZUljb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9O1xuXG4gIC8vIExJU1RFTkVSU1xuICAvLyBmZXRjaCBlYWNoIGVsZW1lbnQgLCBhZGQgbGlzdGVuZXJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBpbWFnZSBjbGlja1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGluayB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEhBTkRMRVJTXG5cbiAgX2hhbmRsZURlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcblxuICAgIC8vIFNhdmUgZWxlbWVudHMgaW4gdGhlIGNsYXNzIGluc3RhbmNlXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yXG4gICAgKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5faW5wdXRFbGVtZW50cykuc29tZShcbiAgICAgIChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcbiAgICApO1xuICB9XG5cbiAgX2Rpc2FibGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuX3N1Ym1pdEJ1dHRvbikge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIF9lbmFibGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuX3N1Ym1pdEJ1dHRvbikge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH1cblxuICBkaXNhYmxlU3VibWl0QnV0dG9uKCkge1xuICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVLZXlEb3duID0gdGhpcy5faGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gb3BlbnMgcG9wdXBcbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVLZXlEb3duKTtcbiAgfVxuXG4gIC8vIGNsb3NlcyBwb3B1cFxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVLZXlEb3duKTtcbiAgfVxuXG4gIC8vIGxpc3RlbnMgZm9yIGVzYyBidXR0b25cbiAgX2hhbmRsZUtleURvd24oZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXRzIGV2ZW50IGxpc3RlbmVyc1xuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcbiAgICBpZiAoY2xvc2VCdXR0b24pIHtcbiAgICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuICAgIH1cbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCIvLyB0aGlzIGNsYXNzIGlzIGEgY2hpbGQgY2xhc3Mgb2YgdGhlIFBvcHVwIGNsYXNzXG4vLyBpdCBkZWFscyBleGNsdXNpdmVseSB3aXRoIGZvcm1zXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTsgLy8gY2FsbCB0aGUgY29uc3RydWN0b3Igb2YgdGhlIHBhcmVudCBjbGFzcyBQb3B1cFxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpOyAvLyBhY2Nlc3MgdGhlIGZvcm0gZWxlbWVudCBpbnNpZGUgdGhlIHBvcHVwXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7IC8vIHNhdmUgdGhlIGhhbmRsZUZvcm1TdWJtaXQgZnVuY3Rpb24gZm9yIGxhdGVyIHVzZVxuICAgIHRoaXMuX2lucHV0RmllbGRzID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuICAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyID0gdGhpcy5fZm9ybVN1Ym1pdEhhbmRsZXIuYmluZCh0aGlzKTsgLy8gYmluZHMgZXZ0IGxzdG5yIHRvIHRoaXNcbiAgfVxuXG4gIC8vIGNvbGxlY3RzIGRhdGEgZnJvbSBhbGwgdGhlIGlucHV0IGZpZWxkcyBhbmQgcmV0dXJucyBpdCBhcyBhbiBvYmplY3RcbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRGaWVsZHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgLy8gb3ZlcnJpZGUgdGhlIHBhcmVudCBtZXRob2RcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAvLyBsaXN0ZW5zIGZvciBmb3JtIHN1Ym1pc3Npb25cbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9mb3JtU3VibWl0SGFuZGxlcik7XG4gIH1cblxuICAvLyBoYW5kbGUgZm9ybSBzdWJtaXRcbiAgX2Zvcm1TdWJtaXRIYW5kbGVyKGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gIH1cblxuICAvLyBjbG9zZXMgYW5kIHJlc2V0cyB0aGUgZm9ybVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XG4iLCJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGcgXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuLy8gV1JBUFBFUlNcbmV4cG9ydCBjb25zdCBwbGFjZXNXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtbW9kYWxcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG5leHBvcnQgY29uc3QgaW1hZ2VDYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcG9wdXAtY2FwdGlvblwiKTtcblxuLy8gQlVUVE9OUyBBTkQgT1RIRVIgRE9NIEVMRU1FTlRTXG5leHBvcnQgY29uc3QgcHJvZmlsZUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hZGQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xuXG4vLyBGT1JNIERBVEFcbmV4cG9ydCBjb25zdCBjYXJkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10aXRsZS1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkTGlua0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLWxpbmstaW5wdXRcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XG5leHBvcnQgY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImNhcmQtZm9ybVwiXTtcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7XG4gIGluaXRpYWxDYXJkcyxcbiAgc2V0dGluZ3MsXG4gIHBsYWNlc1dyYXAsXG4gIHByb2ZpbGVFZGl0TW9kYWwsXG4gIGFkZENhcmRNb2RhbCxcbiAgbW9kYWxJbWFnZSxcbiAgaW1hZ2VDYXB0aW9uLFxuICBwcm9maWxlQWRkQnV0dG9uLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgY2FyZFRpdGxlSW5wdXQsXG4gIGNhcmRMaW5rSW5wdXQsXG4gIHByb2ZpbGVUaXRsZSxcbiAgcHJvZmlsZURlc2NyaXB0aW9uLFxuICBwcm9maWxlVGl0bGVJbnB1dCxcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXG4gIHByb2ZpbGVGb3JtLFxuICBjYXJkRm9ybSxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIENMQVNTIElOU1RBTkNFU1xuXG4vLyBOZXcgRWRpdCBGb3JtIFZhbGlkYXRvciBpbnN0YW5jZVxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgc2V0dGluZ3MsXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1mb3JtXCIpXG4pO1xuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpOyAvLyBjYWxsIGVuYWJsZSB2YWxpZGF0aW9uXG5cbi8vIE5ldyBDYXJkIGZvcm0gdmFsaWRhdG9yIGluc3RhbmNlXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICBzZXR0aW5ncyxcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1mb3JtXCIpXG4pO1xuY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpOyAvLyBjYWxsIGVuYWJsZSB2YWxpZGF0aW9uXG5cbi8vIE5ldyBQb3B1cCBGb3JtIGZvciBhZGRpbmcgYSBjYXJkXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGQtY2FyZC1tb2RhbFwiLCAoZm9ybURhdGEpID0+IHtcbiAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLnRpdGxlO1xuICBjb25zdCBsaW5rID0gZm9ybURhdGEubGluaztcbiAgaGFuZGxlTmV3Q2FyZFN1Ym1pdChuYW1lLCBsaW5rKTtcbn0pO1xubmV3Q2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIE5ldyBQb3B1cCBGb3JtIHRvIGVkaXQgcHJvZmlsZVxuY29uc3QgZWRpdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcbiAgKGZvcm1EYXRhKSA9PiB7XG4gICAgY29uc3QgdGl0bGUgPSBmb3JtRGF0YS50aXRsZTtcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGZvcm1EYXRhLmRlc2NyaXB0aW9uO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHRpdGxlLCBkZXNjcmlwdGlvbik7XG4gICAgaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQoZm9ybURhdGEpO1xuICB9XG4pO1xuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBOZXcgUG9wdXAgd2l0aCBJbWFnZVxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjaW1hZ2UtbW9kYWxcIik7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBJbnN0YW5jZSBvZiBVc2VyIEluZm9cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFwiLnByb2ZpbGVfX3RpdGxlXCIsIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuXG4vLyBJbnN0YW5jZSBvZiBTZWN0aW9uXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiBjcmVhdGVDYXJkLFxuICB9LFxuICBcIiNjYXJkc19fbGlzdFwiXG4pO1xuXG5zZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gRlVOQ1RJT05TXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmREYXRhLCBcIiNjYXJkLXRlbXBsYXRlXCIsIGhhbmRsZUltYWdlQ2xpY2spO1xuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XG59XG5cbi8vcmVuZGVyIGNhcmRcbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZFZpZXcgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmRWaWV3KTtcbn1cblxuLy8gZGVjbGFyZSBhIGZ1bmN0aW9uIHRvIGhhbmRsZSBpbWFnZSBjbGlja1xuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayh7IG5hbWUsIGxpbmsgfSkge1xuICBwb3B1cFdpdGhJbWFnZS5vcGVuKHsgbGluaywgbmFtZSB9KTtcbn1cblxuLy8gRVZFTlQgSEFORExFUlNcblxuLy8gSGFuZGxlcyBlZGl0IGZvcm0gc3VibWl0XG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdCgpIHtcbiAgZWRpdEZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU5ld0NhcmRTdWJtaXQobmFtZSwgbGluaykge1xuICByZW5kZXJDYXJkKHsgbmFtZSwgbGluayB9LCBwbGFjZXNXcmFwKTtcbiAgY2FyZEZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICBuZXdDYXJkUG9wdXAuY2xvc2UoKTtcbn1cblxuLy8gRVZFTlQgTElTVEVORVJTXG5cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB1c2VyRGF0YS50aXRsZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5kZXNjcmlwdGlvbjtcbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGVkaXRQcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbi8vIExpc3RlbnMgZm9yIGFkZCBidXR0b24gY2xpY2ssIGZ1bmN0aW9ucyB0byBvcGVuIG5ldyBjYXJkIGZyb20gbW9kYWwuXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG5ld0NhcmRQb3B1cC5vcGVuKCk7XG59KTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICAvLyBjbGFzcyBmaWVsZHMgZGVmaW5lZFxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX3BvcHVwLWNhcHRpb25cIlxuICAgICk7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuICB9XG5cbiAgb3Blbih7IGxpbmssIG5hbWUgfSkge1xuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IGBJbWFnZSBvZiAke25hbWV9YDtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIC8vIHBhc3MgaW4gc2VsZWN0b3IncyBhcyBhcmd1bWVudHNcbiAgY29uc3RydWN0b3IocHJvZmlsZVRpdGxlU2VsZWN0b3IsIHByb2ZpbGVEZXNjcmlwdGlvblNlbGVjdG9yKSB7XG4gICAgLy8gdXNlIHF1ZXJ5IHNlbGVjdG9yIHRvIGdldCBlbGVtZW50cyBhbmQgYXNzaWduIHRvIHRoaXNcbiAgICB0aGlzLl9wcm9maWxlVGl0bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlVGl0bGVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBwcm9maWxlRGVzY3JpcHRpb25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICAvLyByZXR1cm4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHRleHQgY29udGVudCBvZiB0aGUgcHJvZmlsZSBlbGVtZW50c1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogdGhpcy5fcHJvZmlsZVRpdGxlRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICAvLyBwYXNzIGluIHRoZSB2YWx1ZXMgZnJvbSB0aGUgZm9ybSBzdWJtaXNzaW9uXG4gIHNldFVzZXJJbmZvKHRpdGxlLCBkZXNjcmlwdGlvbikge1xuICAgIHRoaXMuX3Byb2ZpbGVUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gICAgLy8gc2ltaWxhcmx5IGZvciB0aGUgb3RoZXIgZWxlbWVudFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgICAgdGhpcy5hZGRJdGVtKGVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsIm5hbWUiLCJsaW5rIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfZ2V0RWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZXRWaWV3IiwiX2NhcmRFbGVtZW50IiwiX2xpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRJbWFnZUVsIiwiX2NhcmRUaXRsZUVsIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlTGlrZUljb24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJyZW1vdmUiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9pbnB1dEVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2VFbGVtZW50IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImFkZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsIkFycmF5IiwiZnJvbSIsInNvbWUiLCJfZGlzYWJsZUJ1dHRvbiIsImRpc2FibGVkIiwiX2VuYWJsZUJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJyZXNldFZhbGlkYXRpb24iLCJkaXNhYmxlU3VibWl0QnV0dG9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVLZXlEb3duIiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsImNsb3NlQnV0dG9uIiwidGFyZ2V0IiwiY29udGFpbnMiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRGaWVsZHMiLCJfZm9ybVN1Ym1pdEhhbmRsZXIiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJyZXNldCIsImZvcm1TZWxlY3RvciIsInByb2ZpbGVBZGRCdXR0b24iLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImZvcm1zIiwiY2FyZEZvcm1WYWxpZGF0b3IiLCJuZXdDYXJkUG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwiZm9ybURhdGEiLCJ0aXRsZSIsImNhcmREYXRhIiwiY2FyZFZpZXciLCJjcmVhdGVDYXJkIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJyZW5kZXJDYXJkIiwiZWRpdFByb2ZpbGVQb3B1cCIsImRlc2NyaXB0aW9uIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInBvcHVwV2l0aEltYWdlIiwiX3BvcHVwQ2FwdGlvbiIsIl9pbWFnZUVsZW1lbnQiLCJwcm9maWxlVGl0bGVTZWxlY3RvciIsInByb2ZpbGVEZXNjcmlwdGlvblNlbGVjdG9yIiwiX3Byb2ZpbGVUaXRsZUVsZW1lbnQiLCJfcHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudCIsImdldFVzZXJJbmZvIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwidXNlckRhdGEiXSwic291cmNlUm9vdCI6IiJ9